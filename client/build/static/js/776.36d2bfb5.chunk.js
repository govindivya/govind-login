"use strict";(self.webpackChunkloanapp=self.webpackChunkloanapp||[]).push([[776],{6776:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r=t(5861),s=t(8152),a=t(7757),i=t.n(a),c=t(2791),d=t(1830),l=t(5104),o=t(2216),u=t(4569),p=t.n(u),h=t(8820),x=t(4373),f=t(3853),j=t(7692),v=t(6127),g=t.n(v),m=t(184),S=function(){return(0,m.jsx)("div",{className:"spinner",children:(0,m.jsx)("div",{})})},C=function(){var e=c.useContext(d.V),n=e.auth,t=e.dispatch,a=(0,o.VY)(),u=(0,c.useState)([]),v=(0,s.Z)(u,2),C=v[0],y=v[1],b=(0,c.useRef)(null),k=(0,c.useState)(!1),N=(0,s.Z)(k,2),w=N[0],Z=N[1],E=(0,c.useState)(""),D=(0,s.Z)(E,2),A=D[0],P=D[1],L=(0,c.useState)(""),R=(0,s.Z)(L,2),T=R[0],z=R[1],O=(0,c.useState)(""),V=(0,s.Z)(O,2),q=V[0],B=V[1],M=(0,c.useState)(""),Q=(0,s.Z)(M,2),Y=Q[0],$=Q[1],F=(0,c.useState)(""),G=(0,s.Z)(F,2),H=G[0],I=G[1],J=(0,c.useState)(""),K=(0,s.Z)(J,2),U=K[0],W=K[1],X=(0,c.useState)(""),_=(0,s.Z)(X,2),ee=_[0],ne=_[1],te=(0,c.useState)(""),re=(0,s.Z)(te,2),se=re[0],ae=re[1];function ie(e){P(""),W(""),$(""),B(""),z(""),ne(""),ae(""),I("")}function ce(){return ee.match(/[a-zA-z0-9](@gmail.com)$/)}function de(){return P(String(A).trim()),z(String(T).trim()),W(String(U).trim()),ae(String(se).trim()),I(String(H).trim()),B(String(q).trim()),console.log(A.length<3,T.length<20,0===U.length,0===H.length,6!==q.length,0===Y.length),console.log(),!(A.length<3||T.length<20||0===U.length||0===se.length||0===H.length||6!==q.length||0===Y.length)}function le(){return(le=(0,r.Z)(i().mark((function e(n){var t,r,s,c,d,l,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),b.current.disabled=!0,t=de(),r=ce(),t&&r){e.next=8;break}return a.error("Some fields are not filled in proper manner"),b.current.disabled=!1,e.abrupt("return");case 8:if(s={headers:{"Content-Type":"application/json"}},c={name:A,email:ee,dob:Y,adress:T,status:se,state:U,age:H,pincode:q},e.prev=10,!w){e.next=19;break}return e.next=14,p().put("/api/condidates/update",c,s);case 14:d=e.sent,(l=d.data).success&&y(l.condidates),e.next=24;break;case 19:return e.next=21,p().post("/api/condidates/create",c,s);case 21:o=e.sent,(u=o.data).success&&y(u.condidates);case 24:Z(!1),pe(),ie(),b.current.disabled=!1,e.next=34;break;case 30:e.prev=30,e.t0=e.catch(10),b.current.disabled=!1,a.error(e.t0.response.data.error);case 34:case"end":return e.stop()}}),e,null,[[10,30]])})))).apply(this,arguments)}function oe(){return(oe=(0,r.Z)(i().mark((function e(n,t){var r,s,c,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he(n),Z(!0),e.prev=2,r={headers:{"Content-Type":"application/json"}},e.next=6,p().post("/api/condidates/detail",{email:t.email},r);case 6:s=e.sent,(c=s.data).success&&(d=c.condidate,P(d.name),z(d.adress),I(String(d.age)),B(String(d.pincode)),W(d.state),ne(d.email),ae(d.status)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("The error is "+e.t0),a.error(e.t0.response.data.error);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function ue(){return(ue=(0,r.Z)(i().mark((function e(n,t){var r,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),r={headers:{"Content-Type":"application/json"}},e.next=5,p().delete("/api/condidates/".concat(t.email),r);case 5:s=e.sent,(c=s.data).success&&y(c.condidates),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a.error(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function pe(){document.querySelector(".add-condidate").classList.add("hidden"),ie()}function he(e){e.preventDefault(),document.querySelector(".add-condidate").classList.remove("hidden")}function xe(){return(xe=(0,r.Z)(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,(0,l.kS)(t);case 3:(r=e.sent).success||a.error(r.error);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){function e(){return(e=(0,r.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p().get("/api/condidates/get/all");case 3:n=e.sent,(t=n.data).success&&y(t.condidates),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.error(e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,m.jsxs)("div",{className:"homepage",children:[(0,m.jsx)("div",{className:"logout",children:(0,m.jsx)("p",{onClick:function(e){return xe.apply(this,arguments)},children:"Log Out"})}),(0,m.jsxs)("h3",{children:["Condidate List :",Array.from(C).length]}),(0,m.jsxs)("div",{className:"condidate-list",children:[(0,m.jsxs)("div",{className:"condidate-list-header",children:[(0,m.jsx)("p",{}),(0,m.jsx)("p",{children:"Name"}),(0,m.jsx)("p",{children:"Date of Birth "}),(0,m.jsx)("p",{children:"Email"}),(0,m.jsx)("p",{children:"Result"})]}),(0,m.jsx)("div",{className:"condidate-list-row-container",children:n.loading?(0,m.jsx)(S,{}):C.map((function(e,n){return(0,m.jsxs)("div",{className:"condidate-list-row",children:[(0,m.jsx)("p",{children:n+1}),(0,m.jsx)("p",{children:e.name}),(0,m.jsx)("p",{children:e.dob}),(0,m.jsx)("p",{children:e.email}),(0,m.jsxs)("p",{className:"condidate-icons",children:[(0,m.jsx)("span",{children:e.status}),(0,m.jsx)(x.yQg,{style:{fontSize:"32px",color:"gray"}}),(0,m.jsxs)("span",{children:[(0,m.jsx)(f.Nte,{className:"icons",onClick:function(n){return function(e,n){return oe.apply(this,arguments)}(n,e)}}),(0,m.jsx)(h.VPh,{className:"icons",onClick:function(n){return function(e,n){return ue.apply(this,arguments)}(n,e)}})]})]})]},n)}))})]}),(0,m.jsxs)("div",{className:"add-condidate-button",children:[(0,m.jsx)(j.ffM,{className:"icons"}),(0,m.jsx)("span",{onClick:he,children:"Add New Condidate"})]}),(0,m.jsx)("div",{className:"add-condidate hidden",children:(0,m.jsxs)("form",{children:[(0,m.jsx)("h1",{children:"Create Condidate"}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"Name"}),(0,m.jsx)("input",{type:"text",value:A,onChange:function(e){return P(e.target.value)},placeholder:"Enter  name"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"Email"}),(0,m.jsx)("input",{type:"text",value:ee,onChange:function(e){return ne(e.target.value)},placeholder:"Enter  Email"})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"Status"}),(0,m.jsxs)("select",{onChange:function(e){return ae(e.target.value)},children:[(0,m.jsx)("option",{value:"Shortlisted",children:"Shortlisted"}),(0,m.jsx)("option",{value:"Pending",children:"Pending"}),(0,m.jsx)("option",{value:"Rejected",children:"Rejected"})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"Adress"}),(0,m.jsx)("input",{type:"text",value:T,onChange:function(e){return z(e.target.value)},placeholder:"Enter  address in min 20 chars"})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"Date Of Birth"}),(0,m.jsx)("input",{type:"date",value:Y,onChange:function(e){return $(e.target.value.toString())},placeholder:"Enter  Date of birth"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"State"}),(0,m.jsxs)("select",{onChange:function(e){return W(e.target.value)},children:[(0,m.jsx)("option",{children:"Select state"}),g().getStatesOfCountry("101").map((function(e){return(0,m.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"Age"}),(0,m.jsx)("input",{type:"number",value:H,onChange:function(e){return I(e.target.value)},placeholder:"Enter  age"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"Pincode"}),(0,m.jsx)("input",{value:q,onChange:function(e){return B(e.target.value)},type:"number",placeholder:"Enter  Pincode"})]})]}),(0,m.jsxs)("div",{className:"buttonContainer",children:[(0,m.jsx)("button",{onClick:function(e){e.preventDefault(),ie(),pe(),Z(!1)},children:"Cancel"}),(0,m.jsx)("button",{ref:b,onClick:function(e){return le.apply(this,arguments)},children:w?"Edit":"Create"})]})]})})]})}}}]);
//# sourceMappingURL=776.36d2bfb5.chunk.js.map