"use strict";(self.webpackChunkloanapp=self.webpackChunkloanapp||[]).push([[776],{6776:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r=t(5861),a=t(8152),s=t(7757),i=t.n(s),c=t(2791),d=t(1830),l=t(5104),o=t(2216),u=t(4569),p=t.n(u),h=t(8820),x=t(4373),f=t(3853),j=t(7692),v=t(6127),m=t.n(v),g=t(184),S=function(){return(0,g.jsx)("div",{className:"spinner",children:(0,g.jsx)("div",{})})},C=function(){var e=c.useContext(d.V),n=e.auth,t=e.dispatch,s=(0,o.VY)(),u=(0,c.useState)([]),v=(0,a.Z)(u,2),C=v[0],b=v[1],y=(0,c.useRef)(null),k=(0,c.useState)(!1),N=(0,a.Z)(k,2),Z=N[0],w=N[1],E=(0,c.useState)(!1),D=(0,a.Z)(E,2),A=D[0],P=D[1],L=(0,c.useState)(""),R=(0,a.Z)(L,2),T=R[0],z=R[1],O=(0,c.useState)(""),V=(0,a.Z)(O,2),q=V[0],B=V[1],M=(0,c.useState)(""),Q=(0,a.Z)(M,2),Y=Q[0],$=Q[1],F=(0,c.useState)(""),G=(0,a.Z)(F,2),H=G[0],I=G[1],J=(0,c.useState)(""),K=(0,a.Z)(J,2),U=K[0],W=K[1],X=(0,c.useState)(""),_=(0,a.Z)(X,2),ee=_[0],ne=_[1],te=(0,c.useState)(""),re=(0,a.Z)(te,2),ae=re[0],se=re[1],ie=(0,c.useState)(""),ce=(0,a.Z)(ie,2),de=ce[0],le=ce[1];function oe(e){z(""),ne(""),I(""),$(""),B(""),se(""),le(""),W("")}function ue(){return ae.match(/[a-zA-z0-9](@gmail.com)$/)}function pe(){return z(String(T).trim()),B(String(q).trim()),ne(String(ee).trim()),le(String(de).trim()),W(String(U).trim()),$(String(Y).trim()),console.log(),!(T.length<3||q.length<15||0===ee.length||0===U.length||6!==Y.length||0===H.length)}function he(){return(he=(0,r.Z)(i().mark((function e(n){var t,r,a,c,d,l,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),y.current.disabled=!0,t=pe(),r=ue(),t){e.next=8;break}return s.error("Some fields are not filled in proper manner"),y.current.disabled=!1,e.abrupt("return");case 8:if(r){e.next=12;break}return s.error("invalid gmail address"),y.current.disabled=!1,e.abrupt("return");case 12:if(a={headers:{"Content-Type":"application/json"}},c={name:T,email:ae,dob:H,adress:q,status:de,state:ee,age:U,pincode:Y},e.prev=14,w(!0),!A){e.next=24;break}return e.next=19,p().put("/api/condidates/update",c,a);case 19:d=e.sent,(l=d.data).success&&b(l.condidates),e.next=30;break;case 24:return e.next=26,p().post("/api/condidates/create",c,a);case 26:o=e.sent,(u=o.data).success&&b(u.condidates),w(!1);case 30:P(!1),je(),oe(),y.current.disabled=!1,e.next=41;break;case 36:e.prev=36,e.t0=e.catch(14),w(!1),y.current.disabled=!1,s.error(e.t0.response.data.error);case 41:case"end":return e.stop()}}),e,null,[[14,36]])})))).apply(this,arguments)}function xe(){return(xe=(0,r.Z)(i().mark((function e(n,t){var r,a,c,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve(n),P(!0),e.prev=2,r={headers:{"Content-Type":"application/json"}},w(!0),e.next=7,p().post("/api/condidates/detail",{email:t.email},r);case 7:a=e.sent,c=a.data,w(!1),c.success&&(d=c.condidate,z(d.name),B(d.adress),W(String(d.age)),$(String(d.pincode)),ne(d.state),se(d.email),le(d.status)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),w(!1),console.log("The error is "+e.t0),s.error(e.t0.response.data.error);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function fe(){return(fe=(0,r.Z)(i().mark((function e(n,t){var r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),r={headers:{"Content-Type":"application/json"}},e.next=5,p().delete("/api/condidates/".concat(t.email),r);case 5:a=e.sent,(c=a.data).success&&b(c.condidates),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s.error(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function je(){document.querySelector(".add-condidate").classList.add("hidden"),oe()}function ve(e){e.preventDefault(),document.querySelector(".add-condidate").classList.remove("hidden")}function me(){return(me=(0,r.Z)(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,(0,l.kS)(t);case 3:(r=e.sent).success||s.error(r.error);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){function e(){return(e=(0,r.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,p().get("/api/condidates/get/all");case 4:n=e.sent,t=n.data,w(!1),t.success&&b(t.condidates),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),w(!1),s.error(e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,g.jsxs)("div",{className:"homepage",children:[(0,g.jsx)("div",{className:"logout",children:(0,g.jsx)("p",{onClick:function(e){return me.apply(this,arguments)},children:"Log Out"})}),(0,g.jsxs)("h3",{children:["Condidate List :",Array.from(C).length]}),(0,g.jsxs)("div",{className:"condidate-list",children:[(0,g.jsxs)("div",{className:"condidate-list-header",children:[(0,g.jsx)("p",{}),(0,g.jsx)("p",{children:"Name"}),(0,g.jsx)("p",{children:"Date of Birth "}),(0,g.jsx)("p",{children:"Email"}),(0,g.jsx)("p",{children:"Result"})]}),(0,g.jsx)("div",{className:"condidate-list-row-container",children:n.loading||Z?(0,g.jsx)(S,{}):C.map((function(e,n){return(0,g.jsxs)("div",{className:"condidate-list-row",children:[(0,g.jsx)("p",{children:n+1}),(0,g.jsx)("p",{children:e.name}),(0,g.jsx)("p",{children:e.dob}),(0,g.jsx)("p",{children:e.email}),(0,g.jsxs)("p",{className:"condidate-icons",children:[(0,g.jsx)("span",{children:e.status}),(0,g.jsx)(x.yQg,{style:{fontSize:"32px",color:"gray"}}),(0,g.jsxs)("span",{children:[(0,g.jsx)(f.Nte,{className:"icons",onClick:function(n){return function(e,n){return xe.apply(this,arguments)}(n,e)}}),(0,g.jsx)(h.VPh,{className:"icons",onClick:function(n){return function(e,n){return fe.apply(this,arguments)}(n,e)}})]})]})]},n)}))})]}),(0,g.jsxs)("div",{className:"add-condidate-button",children:[(0,g.jsx)(j.ffM,{className:"icons"}),(0,g.jsx)("span",{onClick:ve,children:"Add New Condidate"})]}),(0,g.jsx)("div",{className:"add-condidate hidden",children:(0,g.jsxs)("form",{children:[(0,g.jsx)("h1",{children:"Create Condidate"}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{children:"Name"}),(0,g.jsx)("input",{type:"text",value:T,onChange:function(e){return z(e.target.value)},placeholder:"Enter  name"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{children:"Email"}),(0,g.jsx)("input",{type:"text",value:ae,onChange:function(e){return se(e.target.value)},placeholder:"Enter  Email"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{children:"Status"}),(0,g.jsxs)("select",{onChange:function(e){return le(e.target.value)},children:[(0,g.jsx)("option",{value:"Shortlisted",children:"Shortlisted"}),(0,g.jsx)("option",{value:"Pending",children:"Pending"}),(0,g.jsx)("option",{value:"Rejected",children:"Rejected"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{children:"Adress"}),(0,g.jsx)("input",{type:"text",value:q,onChange:function(e){return B(e.target.value)},placeholder:"Enter  address in min 20 chars"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{children:"Date Of Birth"}),(0,g.jsx)("input",{type:"date",value:H,onChange:function(e){return I(e.target.value.toString())},placeholder:"Enter  Date of birth"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{children:"State"}),(0,g.jsxs)("select",{onChange:function(e){return ne(e.target.value)},children:[(0,g.jsx)("option",{children:"Select state"}),m().getStatesOfCountry("101").map((function(e){return(0,g.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{children:"Age"}),(0,g.jsx)("input",{type:"number",value:U,onChange:function(e){return W(e.target.value)},placeholder:"Enter  age"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{children:"Pincode"}),(0,g.jsx)("input",{value:Y,onChange:function(e){return $(e.target.value)},type:"number",placeholder:"Enter  Pincode"})]})]}),(0,g.jsxs)("div",{className:"buttonContainer",children:[(0,g.jsx)("button",{onClick:function(e){e.preventDefault(),oe(),je(),P(!1)},children:"Cancel"}),(0,g.jsx)("button",{ref:y,onClick:function(e){return he.apply(this,arguments)},children:A?"Edit":"Create"})]})]})})]})}}}]);
//# sourceMappingURL=776.7a9ee578.chunk.js.map